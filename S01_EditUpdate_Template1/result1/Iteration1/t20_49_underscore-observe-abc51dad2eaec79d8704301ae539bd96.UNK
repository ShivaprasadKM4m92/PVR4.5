//# sourceMappingURL=underscore-observe.js.map
(function(b){"object"===typeof module&&"object"===typeof module.exports?module.exports=function(t){b(t)}:b(_)})(function(b){function t(c){function e(){g();p=JSON.parse(JSON.stringify(c))}function g(){b.each(d.generic,function(a){a(c,p)})}function f(a,h){b.each(d.create,function(b){b(a,h)})}function l(a,h,k){b.each(d.update,function(b){b(a,h,k)})}function r(a,h){b.each(d["delete"],function(b){b(a,h)})}function m(){var a=p.length,h=c.length;if(a!==h||JSON.stringify(p)!==JSON.stringify(c)){for(var k=
Math.max(h,a)-1;0<=k;k--){var d=p[k],g=c[k];k>a-1?f(g,k):k>h-1?r(d,k):b.isEqual(g,d)||l(g,d,k)}e()}}function q(a,b){x?Object.defineProperty(c,a,{value:b}):c[a]=b}var n=!0,p=[],d={generic:[],create:[],update:[],"delete":[]};q("pop",function(){m();var a=Array.prototype.pop.apply(this,arguments);r(a,this.length);e();return a});q("push",function(){m();var a=arguments[0],b=Array.prototype.push.apply(this,arguments);f(a,b-1);e();return b});q("reverse",function(){m();for(var a=this.length-1;0<=a;a--)r(this[a],
a);a=Array.prototype.reverse.apply(this,arguments);b.each(this,f);e();return a});q("shift",function(){m();var a=Array.prototype.shift.apply(this,arguments);r(a,0);e();return a});q("sort",function(){m();for(var a=this.length-1;0<=a;a--)r(this[a],a);a=Array.prototype.sort.apply(this,arguments);b.each(this,f);e();return a});q("splice",function(a){m();for(var h=Array.prototype.slice.call(arguments,2),c=Array.prototype.splice.apply(this,arguments),d=c.length-1;0<=d;d--)r(c[d],a+d);b.each(h,function(b,
c){f(b,a+c)});e();return c});q("unshift",function(){m();var a=Array.prototype.unshift.apply(this,arguments);b.each(arguments,function(a,b){f(a,b)});e();return a});return{detectChanges:m,unbind:function(a,c){b.isUndefined(a)&&b.isUndefined(c)?b.each(d,function(a){a.length=0}):b.isString(a)&&b.isUndefined(c)?d[a].length=0:b.isFunction(a)&&b.isUndefined(c)?(c=a,a="generic",d[a]=b.without(d[a],c)):b.isString(a)&&b.isFunction(c)&&(d[a]=b.without(d[a],c))},bind:function(a,e){d[a].push(e);"generic"===a?
e(c,p):"create"===a&&b.each(c,function(a,b){e(a,b)});n&&(p=JSON.parse(JSON.stringify(c)),n=!1)}}}function v(){g.length?(b.each(g,function(b){b.detectChanges()}),l&&clearTimeout(l),l=setTimeout(v,250)):l=null}var l,n=[],g=[],x=!!(Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions);b.mixin({observe:function(c,
e,u){if(!b.isArray(c))throw"subject should be a array";b.isFunction(e)&&(u=e,e="generic");var f=b.indexOf(n,c);if(-1===f){f=n.length;n.push(c);var w=new t(c);g.push(w)}g[f].bind(e,u);l&&clearTimeout(l);l=setTimeout(v,250);return c},unobserve:function(c,e,l){if(arguments.length){if(!b.isArray(c))throw"subject should be a array";var f=b.indexOf(n,c);if(-1!==f)return g[f].unbind(e,l),c}else b.each(g,function(b){b.unbind()}),n.length=0,g.length=0}})});