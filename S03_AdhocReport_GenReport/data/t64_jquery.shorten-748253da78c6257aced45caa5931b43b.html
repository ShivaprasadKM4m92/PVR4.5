//# sourceMappingURL=jquery.shorten.js.map
(function(c){c.fn.shorten=function(k){var a={showChars:100,minHideChars:10,ellipsesText:"...",moreText:"more",lessText:"less",onLess:function(){},onMore:function(){},errMsg:null,force:!1};k&&c.extend(a,k);if(c(this).data("jquery.shorten")&&!a.force)return!1;c(this).data("jquery.shorten",!0);c(document).off("click",".morelink");c(document).on({click:function(){var b=c(this);b.hasClass("less")?(b.removeClass("less"),b.html(a.moreText),b.parent().prev().animate({height:"0%"},function(){b.parent().prev().prev().show()}).hide("fast",
function(){a.onLess()})):(b.addClass("less"),b.html(a.lessText),b.parent().prev().animate({height:"100%"},function(){b.parent().prev().prev().hide()}).show("fast",function(){a.onMore()}));return!1}},".morelink");return this.each(function(){var b=c(this),f=b.html();if(b.text().length>a.showChars+a.minHideChars){var d=f.substr(0,a.showChars);if(0<=d.indexOf("<")){for(var e=!1,d="",k=0,h=[],l,g=0,m=0;m<=a.showChars;g++)if("<"!=f[g]||e||(e=!0,l=f.substring(g+1,f.indexOf(">",g)),"/"==l[0]?l!="/"+h[0]?
a.errMsg="ERROR en HTML: the top of the stack should be the tag that closes":h.shift():"br"!=l.toLowerCase()&&h.unshift(l)),e&&">"==f[g]&&(e=!1),e)d+=f.charAt(g);else if(m++,k<=a.showChars)d+=f.charAt(g),k++;else if(0<h.length){for(e=0;e<h.length;e++)d+="</"+h[e]+">";break}d=c("<div/>").html(d+'<span class="ellip">'+a.ellipsesText+"</span>").html()}else d+=a.ellipsesText;b.html('<div class="shortcontent">'+d+'</div><div class="allcontent">'+f+'</div><span><a href="javascript://nop/" class="morelink">'+
a.moreText+"</a></span>");b.find(".allcontent").hide();c(".shortcontent p:last",b).css("margin-bottom",0)}})}})(jQuery);