//# sourceMappingURL=actionItemList.js.map
ActionItemFilterEnum={MY_OPEN:"My Open Action Items",MY_ALL:"My All Action Items",ALL:"All Action Items"};var actionItem=actionItem||{};
actionItem.actionItemList=function(){var e,f=function(d){var a;a='<div class="col-xs-6"><label class="no-bold add-cursor"><input class="actionItemFilter" value="'+ActionItemFilterEnum.MY_OPEN+'" id="actionItemRadio" type="radio" name="relatedReports" onchange="checkFilterType(this)"  checked/> '+$.i18n._("my.open.action.items")+"<span>&nbsp;</span></label>";a=a+'<label class="no-bold add-cursor"><input class="actionItemFilter" value="'+ActionItemFilterEnum.MY_ALL+'" id="actionItemRadio" type="radio" name="relatedReports" onchange="checkFilterType(this)"/> '+
$.i18n._("my.all.action.items")+"<span>&nbsp;</span></label>";a=a+'<label class="no-bold add-cursor"><input class="actionItemFilter" value="'+ActionItemFilterEnum.ALL+'" type="radio" name="relatedReports" onchange="checkFilterType(this)"/> '+$.i18n._("all.action.items")+"<span>&nbsp;</span></label>";a=$(a);$(d).append(a)},g=function(d){var a;a='<div class="col-xs-4">'+$("#createActionItemObj").html();a=$(a);$(d).append(a)};return{init_action_item_table:function(d){return e=$("#actionItemList").DataTable({sPaginationType:"bootstrap",
stateSave:!0,stateDuration:-1,language:{url:"../assets/i18n/dataTables_"+userLocale+".json"},fnDrawCallback:function(a){$(".action-item-view").click(function(){var a=$(this).attr("data-value");actionItem.actionItemModal.view_action_item(a)});$(".action-item-delete").click(function(){var a=$(this).attr("data-value");actionItem.actionItemModal.delete_action_item(a,!0,null)});$(".action-item-edit").click(function(){var a=$(this).attr("data-value");actionItem.actionItemModal.edit_action_item(hasAccessOnActionItem,
a,!0,null,null)})},fnInitComplete:function(){actionButton("#actionItemList");var a=$('<div class="toolbarDiv col-xs-8"></div>'),c=$("<div></div>");a.append(c);$("#actionItemList_filter").attr("class","row");$($("#actionItemList_filter").children()[0]).attr("class","col-xs-4");$($("#actionItemList_filter").children()[0]).attr("style","font-weight: normal; font-size: 12px; float: right; text-align: right;");$("#actionItemList_filter").prepend(a);f(c);g(c);$("#createActionItem").click(function(){actionItem.actionItemModal.init_action_item_modal(!0,
null)});var b=$("#actionItemModal");b.find(".update-action-item").click(function(){actionItem.actionItemModal.update_action_item(!0,b,null)});b.find(".edit-action-item").click(function(){b.find("#creationScreenButton").addClass("hide");b.find("#editScreenButton").removeClass("hide");b.find("#viewScreenButton").addClass("hide");actionItem.actionItemModal.toggle_element_disable(b,!1);b.find("#dueDate").siblings("div.input-group-btn").find(".btn.btn-default.dropdown-toggle").removeAttr("disabled");b.find("#completionDate").siblings("div.input-group-btn").find(".btn.btn-default.dropdown-toggle").removeAttr("disabled");
var a=b.find("#dueDate").val(),c=b.find("#completionDate").val();initializePastDatesNotAllowedDatePicker();a?b.find("#dueDateDiv").datepicker("setDate",a):b.find("#dueDate").val("");c?b.find("#completionDateDiv").datepicker("setDate",c):b.find("#completionDate").val("")})},processing:!0,serverSide:!0,ajax:{url:actionItemUrl,dataSrc:"data",data:function(a){a.searchString=a.search.value;0<a.order.length&&(a.direction=a.order[0].dir,a.sort=a.columns[a.order[0].column].data);0<$('input[name="relatedReports"]').size()&&
(a.filterType=$('input[name="relatedReports"]:checked').val())}},aaSorting:[[0,"desc"]],bLengthChange:!0,iDisplayLength:10,aoColumns:[{mData:"actionItemId",visible:!1,mRender:function(a,c,b){return'<span id="actionItemId">'+b.actionItemId+"</span>"}},{mData:"actionCategory",mRender:function(a,c,b){return"<span>"+b.actionItemCategory+"</span>"}},{mData:"assignedTo",bSortable:!1},{mData:"description",mRender:function(a,c,b){a=30<b.description.length?b.description.substring(0,29)+"...":b.description;
return"<span>"+encodeToHTML(a)+"</span>"}},{mData:"dueDate",aTargets:["dueDate"],sClass:"dataTableColumnCenter",mRender:function(a,c,b){return a?moment(a).format(DEFAULT_DATE_DISPLAY_FORMAT):""}},{mData:"completionDate",aTargets:["completionDate"],sClass:"dataTableColumnCenter",mRender:function(a,c,b){return a?moment(a).format(DEFAULT_DATE_DISPLAY_FORMAT):""}},{mData:"priority"},{mData:"status",aTargets:["status"],mRender:function(a,c,b){return a?$.i18n._("status_enum."+a):""}},{mData:"appType",mRender:function(a,
c,b){return b.appType?"<span>"+b.appType+"</span>":'<span style="margin-left:30%">-</span>'}},{mData:null,bSortable:!1,mRender:function(a,c,b){return'<div class="btn-group dropdown dataTableHideCellContent" align="center">                             <a class="btn btn-success btn-xs action-item-view" href="#" data-value="'+b.actionItemId+'">'+$.i18n._("view")+'</a>                             <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">                                 <span class="caret"></span>                                 <span class="sr-only">Toggle Dropdown</span>                             </button>                             <ul class="dropdown-menu dropdown-menu-right" role="menu" style="min-width: 80px !important; font-size: 12px;">                                 <li role="presentation"><a class="action-item-edit" role="menuitem" href="#" data-value="'+
b.actionItemId+'">'+$.i18n._("edit")+'</a></li>                                <li role="presentation"><a class="action-item-delete" role="menuitem" href="#" data-value="'+b.actionItemId+'">'+$.i18n._("delete")+"</a></li>                            </ul></div>"}}]}).on("xhr.dt",function(a,c,b,d){checkIfSessionTimeOutThenReload(a,b)})},reload_action_item_table:function(){e.ajax.reload()}}}();function checkFilterType(e){$("#actionItemList").DataTable().order([[4,"desc"]]).draw()};