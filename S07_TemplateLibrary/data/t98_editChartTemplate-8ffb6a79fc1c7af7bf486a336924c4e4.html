//# sourceMappingURL=editChartTemplate.js.map
$(document).ready(function(){function m(a,b){viewOnly||(_.observe(newRowList,function(a,d){c.setData(h(b))}),_.observe(columnSetList,function(a,d){c.setData(h(b))}),_.observe(measureList,function(a,d){c.setData(h(b))}));c.setData(h(b));a.show()}function n(a,b){return 0>a?Math.floor(a+Math.random()*(Math.abs(a)+b)):Math.floor(a+Math.random()*b)}function h(a){var b=[],f=[""];if("DATA_TAB"==a){if(q(b,f),a=b,0<newRowList.length)for(var d=0;5>d;d++){for(var e=[],c=0;c<f.length;c++)0==c?e.push(newRowList.slice(-1).pop().text+
(d+1)):e.push(n(0,20));a.push(e)}}else for(b=[],f=["","Column"],b.push(f),a=0;5>a;a++){d=[];for(e=0;e<f.length;e++)0==e?d.push("Row"+(a+1)):d.push(n(0,20));b.push(d)}return b}function q(a,b){measureList.forEach(function(a,d){columnSetList&&columnSetList.length>d&&0<columnSetList[d].length?columnSetList[d].forEach(function(d){for(var c=0;3>c;c++)a.forEach(function(a){a&&b.push(d.text+(c+1)+"("+a.name+")")})}):a.forEach(function(a){a&&b.push(a.name)})});a.push(b)}function r(a){var b=a.getPresets();
b.credits={enabled:!1};a.setPresets(b)}function t(a){var b=["polar","combinationCharts","dashboard"],c=a.getTemplates();a.setTemplates(c.filter(function(a){return 0>b.indexOf(a.id)}))}function u(a){var b=["colorsAndBorders","valueLabels","credits","tooltip","exporting"],c=a.getOptions(),c=c.filter(function(a){return 0>b.indexOf(a.id)});c[0].panes[0].options[0].values='["line", "spline", "column", "bar", "area", "areaspline", "pie", "arearange", "areasplinerange", "columnrange", "scatter"]';a.setOptions(c)}
var k=$("#templateType").val();if("DATA_TAB"==k||"NON_CASE"==k){$("#templateId").val();var l=JSON.parse($("input[name=chartDefaultOptions]").val()||"{}"),p=JSON.parse($("input[name=chartCustomOptions]").val()||"{}"),l=$.isEmptyObject(p)?l:p,g=$("#easychart-preview");g.data("config",l);var c=new ec({element:g.get(0),config:l,dataTab:!1,showLogo:!1,themesTab:!0,events:{configUpdate:function(a){$("#chartCustomOptions").val(JSON.stringify(c.getConfig()))}}});viewOnly||(r(c),t(c),u(c));$("#showChartSheet").prop("checked")&&
m(g,k);$("#showChartSheet").change(function(){this.checked?m(g,k):(viewOnly||(_.unobserve(newRowList),_.unobserve(columnSetList),_.unobserve(measureList)),g.hide())})}});